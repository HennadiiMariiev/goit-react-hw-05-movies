(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{11:function(e,t,c){e.exports={castList:"Cast_castList__3TP4S",castItem:"Cast_castItem__2t1VP",flex:"Cast_flex__2bvY_"}},12:function(e,t,c){e.exports={nav:"NavBar_nav__2RS83",link:"NavBar_link__3U1xr",link_active:"NavBar_link_active__Tp4ZU"}},14:function(e,t,c){e.exports={box:"MoviesPage_box__1Neam"}},21:function(e,t,c){e.exports={reviewsList:"Reviews_reviewsList__1XT3d",reviewsItem:"Reviews_reviewsItem__2xPvp"}},32:function(e,t,c){e.exports={trendingWrapper:"HomePage_trendingWrapper__OO9Sc"}},39:function(e,t,c){},40:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(30),r=c.n(i),s=(c(39),c(40),c(2)),o=c(7),j=c(18),l=c.n(j),h=c(31),u=c(10),b=c.n(u),d="215f5d86f7e87809998cffae9d163253",O="https://api.themoviedb.org/3";function v(){return(v=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.a.get("".concat(O,"/trending/movie/day?api_key=").concat(d)).then((function(e){return e.data.results})).catch((function(e){return console.log("Error: ",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=c(5),m=c(32),p=c.n(m),f=c(0);function _(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1];Object(n.useEffect)((function(){(function(){return v.apply(this,arguments)})().then((function(e){return a(e)}))}),[]);var i=c.map((function(e,t){return Object(f.jsxs)("li",{children:[Object(f.jsxs)(x.b,{to:"/movies/".concat(e.id),children:[Object(f.jsx)("h3",{children:e.title}),Object(f.jsx)("h4",{children:e.release_date}),Object(f.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.backdrop_path),alt:e.title})]}),Object(f.jsx)("p",{children:e.overview})]},t)}));return Object(f.jsxs)("div",{className:p.a.trendingWrapper,children:[Object(f.jsx)("h2",{children:"Trending movies"}),Object(f.jsx)("ul",{children:i})]})}var g=c(14),w=c.n(g);function N(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),r=Object(o.a)(i,2),j=r[0],l=r[1],h=Object(n.useState)(""),u=Object(o.a)(h,2),v=u[0],m=u[1],p=Object(s.h)().url;Object(n.useEffect)((function(){v&&function(e){return b.a.get("".concat(O,"/search/movie?query=").concat(e,"&page=").concat(1,"&api_key=").concat(d)).then((function(e){return e.data.results})).catch((function(e){return console.log("Error: ",e)}))}(v).then((function(e){return a(e)}))}),[v]);var _;return Object(f.jsxs)("div",{className:w.a.box,children:[Object(f.jsx)("h2",{children:"Search movies"}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(j)},children:[Object(f.jsx)("input",{type:"text",placeholder:"Search film...",value:j,onChange:function(e){return l(e.target.value)}}),Object(f.jsx)("button",{type:"submit",disabled:""===j.trim(),children:"Search"})]}),Object(f.jsx)("ul",{children:c&&(_=c,_.map((function(e,t){return Object(f.jsxs)("li",{children:[Object(f.jsxs)(x.b,{to:"".concat(p,"/").concat(e.id),children:[Object(f.jsx)("h3",{children:e.title}),Object(f.jsx)("h4",{children:e.release_date}),Object(f.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.backdrop_path),alt:e.title,width:"300",height:"250"})]}),Object(f.jsx)("p",{children:e.overview})]},t)})))}),c&&v&&Object(f.jsx)("h3",{children:"No movies on your query"})]})}var k=c(8),S=c(21),y=c.n(S);function I(){var e=Object(s.h)().url.replace("/movies","").replace("/reviews",""),t=Object(k.useState)(null),c=Object(o.a)(t,2),n=c[0],a=c[1];Object(k.useEffect)((function(){e&&":movieId"!==e&&function(e){return b.a.get("".concat(O,"/movie/").concat(e,"/reviews?&page=").concat(1,"&api_key=").concat(d)).then((function(e){return e.data.results})).catch((function(e){return console.log("Error: ",e)}))}(e).then((function(e){return a(e)}))}),[e]);var i;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Reviews"}),n&&(i=n,i.length?Object(f.jsx)("ul",{className:y.a.reviewsList,children:i.map((function(e,t){return Object(f.jsxs)("li",{className:y.a.reviewsItem,children:[" ",Object(f.jsx)("h4",{children:e.author}),Object(f.jsx)("h5",{children:e.created_at}),Object(f.jsx)("p",{children:e.content})]},t)}))}):Object(f.jsx)("h3",{children:"No reviews on this movie"}))]})}var P=c(9),C=c.n(P),E=c(11),L=c.n(E);function B(){var e=Object(s.h)().url.replace("/movies","").replace("/cast",""),t=Object(k.useState)(null),c=Object(o.a)(t,2),n=c[0],a=c[1];Object(k.useEffect)((function(){e&&":movieId"!==e&&function(e){return b.a.get("".concat(O,"/movie/").concat(e,"/credits?&page=").concat(1,"&api_key=").concat(d)).then((function(e){return e.data})).catch((function(e){return console.log("Error: ",e)}))}(e).then((function(e){return a(e)}))}),[e]);return Object(f.jsx)("div",{children:n&&function(e){var t=e.cast.map((function(e,t){return Object(f.jsxs)("li",{className:L.a.castItem,children:[Object(f.jsx)("b",{children:e.character})," - ",e.name]},t)})),c=e.crew.map((function(e,t){return Object(f.jsxs)("li",{className:L.a.castItem,children:[Object(f.jsx)("b",{children:e.job})," - ",e.name]},t)}));return Object(f.jsxs)("div",{className:L.a.flex,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"Cast"}),Object(f.jsx)("ul",{className:L.a.castList,children:t})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"Crew"}),Object(f.jsx)("ul",{className:L.a.castList,children:c})]})]})}(n)})}function D(){var e=Object(s.g)().movieId,t=Object(s.h)().url,c=Object(k.useState)(null),n=Object(o.a)(c,2),a=n[0],i=n[1];Object(k.useEffect)((function(){e&&":movieId"!==e&&function(e){return b.a.get("".concat(O,"/movie/").concat(e,"?&page=").concat(1,"&api_key=").concat(d)).then((function(e){return e.data})).catch((function(e){return console.log("Error: ",e)}))}(e).then((function(e){return i(e)}))}),[e]);var r;return Object(f.jsxs)("div",{className:w.a.box,children:[Object(f.jsx)("h2",{children:"Movie"}),a&&(r=a,Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:r.title}),Object(f.jsx)("h4",{children:r.release_date}),Object(f.jsxs)("div",{className:C.a.card,children:[Object(f.jsx)("div",{className:C.a.left,children:Object(f.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(r.backdrop_path),alt:r.title,width:"300",height:"250"})}),Object(f.jsxs)("div",{className:C.a.right,children:[Object(f.jsxs)("p",{children:["Overview: ",r.overview]}),Object(f.jsxs)("p",{children:["Popularity: ",r.popularity]}),Object(f.jsxs)("p",{children:["Duration: ",r.runtime," minutes"]})]})]})]})),Object(f.jsxs)("div",{className:C.a.linkBox,children:[Object(f.jsx)(x.c,{to:"".concat(t,"/cast"),className:C.a.link,children:"Cast"}),Object(f.jsx)(x.c,{to:"".concat(t,"/reviews"),className:C.a.link,children:"Reviews"})]}),Object(f.jsx)(s.b,{path:"".concat(t,"/cast"),component:B}),Object(f.jsx)(s.b,{path:"".concat(t,"/reviews"),component:I})]})}var M=c(12),T=c.n(M);function R(){return Object(f.jsxs)("nav",{className:T.a.nav,children:[Object(f.jsx)(x.c,{to:"/",className:T.a.link,exact:!0,activeClassName:T.a.link_active,children:"HomePage"}),Object(f.jsx)(x.c,{to:"/movies",className:T.a.link,activeClassName:T.a.link_active,children:"Search movies"})]})}function F(){return Object(f.jsx)("div",{children:Object(f.jsx)("h2",{children:"404 Oops, page not found..."})})}var q=function(){return Object(f.jsx)(k.Suspense,{fallback:Object(f.jsx)("p",{children:"Loading..."}),children:Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(R,{}),Object(f.jsxs)(s.d,{children:[Object(f.jsx)(s.b,{path:"/",exact:!0,children:Object(f.jsx)(_,{})}),Object(f.jsx)(s.b,{path:"/movies",exact:!0,children:Object(f.jsx)(N,{})}),Object(f.jsx)(s.b,{path:"/movies/:movieId",children:Object(f.jsx)(D,{})}),Object(f.jsx)(s.b,{path:"/movies/:movieId/cast",children:Object(f.jsx)(B,{})}),Object(f.jsx)(s.b,{path:"/movies/:movieId/reviews",children:Object(f.jsx)(I,{})}),Object(f.jsx)(s.a,{to:"/"}),Object(f.jsx)(s.b,{component:F})]})]})})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(x.a,{children:Object(f.jsx)(q,{})})}),document.getElementById("root")),H()},9:function(e,t,c){e.exports={card:"MovieDetailsPage_card__1NqK7",left:"MovieDetailsPage_left__1OeY9",right:"MovieDetailsPage_right__2w4sG",linkBox:"MovieDetailsPage_linkBox__tSxiH",link:"MovieDetailsPage_link__3usu2"}}},[[70,1,2]]]);
//# sourceMappingURL=main.05f2306e.chunk.js.map