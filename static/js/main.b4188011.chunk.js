(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{10:function(e,t,c){e.exports={castList:"Cast_castList__3TP4S",castItem:"Cast_castItem__2t1VP",flex:"Cast_flex__2bvY_"}},11:function(e,t,c){e.exports={nav:"NavBar_nav__2RS83",link:"NavBar_link__3U1xr",link_active:"NavBar_link_active__Tp4ZU"}},13:function(e,t,c){e.exports={box:"MoviesPage_box__1Neam"}},20:function(e,t,c){e.exports={reviewsList:"Reviews_reviewsList__1XT3d",reviewsItem:"Reviews_reviewsItem__2xPvp"}},31:function(e,t,c){e.exports={trendingWrapper:"HomePage_trendingWrapper__OO9Sc"}},38:function(e,t,c){},39:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),a=c(29),r=c.n(a),s=(c(38),c(39),c(2)),o=c(7),j=c(17),l=c.n(j),h=c(30),u=c(41),b="215f5d86f7e87809998cffae9d163253",d="https://api.themoviedb.org/3";function O(){return(O=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.get("".concat(d,"/trending/movie/day?api_key=").concat(b)).then((function(e){return e.data.results})).catch((function(e){return console.log("Error: ",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=c(5),x=c(31),m=c.n(x),p=c(0);function f(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],i=t[1];Object(n.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){return i(e)}))}),[]);var a=c.map((function(e,t){return Object(p.jsxs)("li",{children:[Object(p.jsxs)(v.b,{to:"/movies/".concat(e.id),children:[Object(p.jsx)("h3",{children:e.title}),Object(p.jsx)("h4",{children:e.release_date}),Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.backdrop_path),alt:e.title})]}),Object(p.jsx)("p",{children:e.overview})]},t)}));return Object(p.jsxs)("div",{className:m.a.trendingWrapper,children:[Object(p.jsx)("h2",{children:"Trending movies"}),Object(p.jsx)("ul",{children:a})]})}var _=c(13),g=c.n(_);function w(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],i=t[1],a=Object(n.useState)(""),r=Object(o.a)(a,2),j=r[0],l=r[1],h=Object(n.useState)(""),O=Object(o.a)(h,2),x=O[0],m=O[1],f=Object(s.h)().url;Object(n.useEffect)((function(){x&&function(e){return u.get("".concat(d,"/search/movie?query=").concat(e,"&page=").concat(1,"&api_key=").concat(b)).then((function(e){return e.data.results})).catch((function(e){return console.log("Error: ",e)}))}(x).then((function(e){return i(e)}))}),[x]);var _;return Object(p.jsxs)("div",{className:g.a.box,children:[Object(p.jsx)("h2",{children:"Search movies"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(j)},children:[Object(p.jsx)("input",{type:"text",placeholder:"Search film...",value:j,onChange:function(e){return l(e.target.value)}}),Object(p.jsx)("button",{type:"submit",disabled:""===j.trim(),children:"Search"})]}),Object(p.jsx)("ul",{children:c&&(_=c,_.map((function(e,t){return Object(p.jsxs)("li",{children:[Object(p.jsxs)(v.b,{to:"".concat(f,"/").concat(e.id),children:[Object(p.jsx)("h3",{children:e.title}),Object(p.jsx)("h4",{children:e.release_date}),Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.backdrop_path),alt:e.title,width:"300",height:"250"})]}),Object(p.jsx)("p",{children:e.overview})]},t)})))}),c&&x&&Object(p.jsx)("h3",{children:"No movies on your query"})]})}var N=c(8),k=c(20),S=c.n(k);function y(){var e=Object(s.h)().url.replace("/movies","").replace("/reviews",""),t=Object(N.useState)(null),c=Object(o.a)(t,2),n=c[0],i=c[1];Object(N.useEffect)((function(){e&&":movieId"!==e&&function(e){return u.get("".concat(d,"/movie/").concat(e,"/reviews?&page=").concat(1,"&api_key=").concat(b)).then((function(e){return e.data.results})).catch((function(e){return console.log("Error: ",e)}))}(e).then((function(e){return i(e)}))}),[e]);var a;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Reviews"}),n&&(a=n,a.length?Object(p.jsx)("ul",{className:S.a.reviewsList,children:a.map((function(e,t){return Object(p.jsxs)("li",{className:S.a.reviewsItem,children:[" ",Object(p.jsx)("h4",{children:e.author}),Object(p.jsx)("h5",{children:e.created_at}),Object(p.jsx)("p",{children:e.content})]},t)}))}):Object(p.jsx)("h3",{children:"No reviews on this movie"}))]})}var I=c(9),P=c.n(I),C=c(10),E=c.n(C);function L(){var e=Object(s.h)().url.replace("/movies","").replace("/cast",""),t=Object(N.useState)(null),c=Object(o.a)(t,2),n=c[0],i=c[1];Object(N.useEffect)((function(){e&&":movieId"!==e&&function(e){return u.get("".concat(d,"/movie/").concat(e,"/credits?&page=").concat(1,"&api_key=").concat(b)).then((function(e){return e.data})).catch((function(e){return console.log("Error: ",e)}))}(e).then((function(e){return i(e)}))}),[e]);return Object(p.jsx)("div",{children:n&&function(e){var t=e.cast.map((function(e,t){return Object(p.jsxs)("li",{className:E.a.castItem,children:[Object(p.jsx)("b",{children:e.character})," - ",e.name]},t)})),c=e.crew.map((function(e,t){return Object(p.jsxs)("li",{className:E.a.castItem,children:[Object(p.jsx)("b",{children:e.job})," - ",e.name]},t)}));return Object(p.jsxs)("div",{className:E.a.flex,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Cast"}),Object(p.jsx)("ul",{className:E.a.castList,children:t})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Crew"}),Object(p.jsx)("ul",{className:E.a.castList,children:c})]})]})}(n)})}function B(){var e=Object(s.g)().movieId,t=Object(s.h)().url,c=Object(N.useState)(null),n=Object(o.a)(c,2),i=n[0],a=n[1];Object(N.useEffect)((function(){e&&":movieId"!==e&&function(e){return u.get("".concat(d,"/movie/").concat(e,"?&page=").concat(1,"&api_key=").concat(b)).then((function(e){return e.data})).catch((function(e){return console.log("Error: ",e)}))}(e).then((function(e){return a(e)}))}),[e]);var r;return Object(p.jsxs)("div",{className:g.a.box,children:[Object(p.jsx)("h2",{children:"Movie"}),i&&(r=i,Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:r.title}),Object(p.jsx)("h4",{children:r.release_date}),Object(p.jsxs)("div",{className:P.a.card,children:[Object(p.jsx)("div",{className:P.a.left,children:Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(r.backdrop_path),alt:r.title,width:"300",height:"250"})}),Object(p.jsxs)("div",{className:P.a.right,children:[Object(p.jsxs)("p",{children:["Overview: ",r.overview]}),Object(p.jsxs)("p",{children:["Popularity: ",r.popularity]}),Object(p.jsxs)("p",{children:["Duration: ",r.runtime," minutes"]})]})]})]})),Object(p.jsxs)("div",{className:P.a.linkBox,children:[Object(p.jsx)(v.c,{to:"".concat(t,"/cast"),className:P.a.link,children:"Cast"}),Object(p.jsx)(v.c,{to:"".concat(t,"/reviews"),className:P.a.link,children:"Reviews"})]}),Object(p.jsx)(s.b,{path:"".concat(t,"/cast"),component:L}),Object(p.jsx)(s.b,{path:"".concat(t,"/reviews"),component:y})]})}var D=c(11),M=c.n(D);function T(){return Object(p.jsxs)("nav",{className:M.a.nav,children:[Object(p.jsx)(v.c,{to:"/",className:M.a.link,exact:!0,activeClassName:M.a.link_active,children:"HomePage"}),Object(p.jsx)(v.c,{to:"/movies",className:M.a.link,activeClassName:M.a.link_active,children:"Search movies"})]})}function R(){return Object(p.jsx)("div",{children:Object(p.jsx)("h2",{children:"404 Oops, page not found..."})})}var F=function(){return Object(p.jsx)(N.Suspense,{fallback:Object(p.jsx)("p",{children:"Loading..."}),children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(T,{}),Object(p.jsxs)(s.d,{children:[Object(p.jsx)(s.b,{path:"/",exact:!0,children:Object(p.jsx)(f,{})}),Object(p.jsx)(s.b,{path:"/movies",exact:!0,children:Object(p.jsx)(w,{})}),Object(p.jsx)(s.b,{path:"/movies/:movieId",children:Object(p.jsx)(B,{})}),Object(p.jsx)(s.b,{path:"/movies/:movieId/cast",children:Object(p.jsx)(L,{})}),Object(p.jsx)(s.b,{path:"/movies/:movieId/reviews",children:Object(p.jsx)(y,{})}),Object(p.jsx)(s.a,{to:"/"}),Object(p.jsx)(s.b,{component:R})]})]})})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),i(e),a(e),r(e)}))};r.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(v.a,{children:Object(p.jsx)(F,{})})}),document.getElementById("root")),q()},9:function(e,t,c){e.exports={card:"MovieDetailsPage_card__1NqK7",left:"MovieDetailsPage_left__1OeY9",right:"MovieDetailsPage_right__2w4sG",linkBox:"MovieDetailsPage_linkBox__tSxiH",link:"MovieDetailsPage_link__3usu2"}}},[[70,1,2]]]);
//# sourceMappingURL=main.b4188011.chunk.js.map