(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{11:function(e,t,c){e.exports={castList:"Cast_castList__3TP4S",castItem:"Cast_castItem__2t1VP",flex:"Cast_flex__2bvY_"}},12:function(e,t,c){e.exports={nav:"NavBar_nav__2RS83",link:"NavBar_link__3U1xr",link_active:"NavBar_link_active__Tp4ZU"}},14:function(e,t,c){e.exports={box:"MoviesPage_box__1Neam"}},21:function(e,t,c){e.exports={reviewsList:"Reviews_reviewsList__1XT3d",reviewsItem:"Reviews_reviewsItem__2xPvp"}},32:function(e,t,c){e.exports={trendingWrapper:"HomePage_trendingWrapper__OO9Sc"}},39:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(30),r=c.n(i),s=(c(39),c(2)),o=c(8),j=c(7),l=c(18),h=c.n(l),u=c(31),b=c(10),d=c.n(b),O="215f5d86f7e87809998cffae9d163253",v="https://api.themoviedb.org/3";function x(){return(x=Object(u.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.a.get("".concat(v,"/trending/movie/day?api_key=").concat(O)).then((function(e){return e.data.results})).catch((function(e){return console.log("Error: ",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=c(5),p=c(32),f=c.n(p),_=c(0);function g(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1];Object(n.useEffect)((function(){(function(){return x.apply(this,arguments)})().then((function(e){return a(e)}))}),[]);var i=c.map((function(e,t){return Object(_.jsxs)("li",{children:[Object(_.jsxs)(m.b,{to:"/movies/".concat(e.id),children:[Object(_.jsx)("h3",{children:e.title}),Object(_.jsx)("h4",{children:e.release_date}),Object(_.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.backdrop_path),alt:e.title})]}),Object(_.jsx)("p",{children:e.overview})]},t)}));return Object(_.jsxs)("div",{className:f.a.trendingWrapper,children:[Object(_.jsx)("h2",{children:"Trending movies"}),Object(_.jsx)("ul",{children:i})]})}var w=c(14),N=c.n(w);function k(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),r=Object(j.a)(i,2),o=r[0],l=r[1],h=Object(n.useState)(""),u=Object(j.a)(h,2),b=u[0],x=u[1],p=Object(s.h)().url;Object(n.useEffect)((function(){b&&function(e){return d.a.get("".concat(v,"/search/movie?query=").concat(e,"&page=").concat(1,"&api_key=").concat(O)).then((function(e){return e.data.results})).catch((function(e){return console.log("Error: ",e)}))}(b).then((function(e){return a(e)}))}),[b]);var f;return Object(_.jsxs)("div",{className:N.a.box,children:[Object(_.jsx)("h2",{children:"Search movies"}),Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(o)},children:[Object(_.jsx)("input",{type:"text",placeholder:"Search film...",value:o,onChange:function(e){return l(e.target.value)}}),Object(_.jsx)("button",{type:"submit",disabled:""===o.trim(),children:"Search"})]}),Object(_.jsx)("ul",{children:c&&(f=c,f.map((function(e,t){return Object(_.jsxs)("li",{children:[Object(_.jsxs)(m.b,{to:"".concat(p,"/").concat(e.id),children:[Object(_.jsx)("h3",{children:e.title}),Object(_.jsx)("h4",{children:e.release_date}),Object(_.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.backdrop_path),alt:e.title,width:"300",height:"250"})]}),Object(_.jsx)("p",{children:e.overview})]},t)})))}),c&&b&&Object(_.jsx)("h3",{children:"No movies on your query"})]})}var S=c(9),y=c.n(S),I=c(21),P=c.n(I);function C(){var e=Object(s.h)().url.replace("/movies","").replace("/reviews",""),t=Object(o.useState)(null),c=Object(j.a)(t,2),n=c[0],a=c[1];Object(o.useEffect)((function(){e&&":movieId"!==e&&function(e){return d.a.get("".concat(v,"/movie/").concat(e,"/reviews?&page=").concat(1,"&api_key=").concat(O)).then((function(e){return e.data.results})).catch((function(e){return console.log("Error: ",e)}))}(e).then((function(e){return a(e)}))}),[e]);var i;return Object(_.jsxs)("div",{children:[Object(_.jsx)("h2",{children:"Reviews"}),n&&(i=n,i.length?Object(_.jsx)("ul",{className:P.a.reviewsList,children:i.map((function(e,t){return Object(_.jsxs)("li",{className:P.a.reviewsItem,children:[" ",Object(_.jsx)("h4",{children:e.author}),Object(_.jsx)("h5",{children:e.created_at}),Object(_.jsx)("p",{children:e.content})]},t)}))}):Object(_.jsx)("h3",{children:"No reviews on this movie"}))]})}var E=c(11),L=c.n(E);function B(){var e=Object(s.h)().url.replace("/movies","").replace("/cast",""),t=Object(o.useState)(null),c=Object(j.a)(t,2),n=c[0],a=c[1];Object(o.useEffect)((function(){e&&":movieId"!==e&&function(e){return d.a.get("".concat(v,"/movie/").concat(e,"/credits?&page=").concat(1,"&api_key=").concat(O)).then((function(e){return e.data})).catch((function(e){return console.log("Error: ",e)}))}(e).then((function(e){return a(e)}))}),[e]);return Object(_.jsx)("div",{children:n&&function(e){var t=e.cast.map((function(e,t){return Object(_.jsxs)("li",{className:L.a.castItem,children:[Object(_.jsx)("b",{children:e.character})," - ",e.name]},t)})),c=e.crew.map((function(e,t){return Object(_.jsxs)("li",{className:L.a.castItem,children:[Object(_.jsx)("b",{children:e.job})," - ",e.name]},t)}));return Object(_.jsxs)("div",{className:L.a.flex,children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("h3",{children:"Cast"}),Object(_.jsx)("ul",{className:L.a.castList,children:t})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("h3",{children:"Crew"}),Object(_.jsx)("ul",{className:L.a.castList,children:c})]})]})}(n)})}function D(){var e=Object(s.g)().movieId,t=Object(s.h)().url,c=Object(o.useState)(null),n=Object(j.a)(c,2),a=n[0],i=n[1];Object(o.useEffect)((function(){e&&":movieId"!==e&&function(e){return d.a.get("".concat(v,"/movie/").concat(e,"?&page=").concat(1,"&api_key=").concat(O)).then((function(e){return e.data})).catch((function(e){return console.log("Error: ",e)}))}(e).then((function(e){return i(e)}))}),[e]);var r;return Object(_.jsxs)("div",{className:N.a.box,children:[Object(_.jsx)("h2",{children:"Movie"}),a&&(r=a,Object(_.jsxs)("div",{children:[Object(_.jsx)("h3",{children:r.title}),Object(_.jsx)("h4",{children:r.release_date}),Object(_.jsxs)("div",{className:y.a.card,children:[Object(_.jsx)("div",{className:y.a.left,children:Object(_.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(r.backdrop_path),alt:r.title,width:"300",height:"250"})}),Object(_.jsxs)("div",{className:y.a.right,children:[Object(_.jsxs)("p",{children:["Overview: ",r.overview]}),Object(_.jsxs)("p",{children:["Popularity: ",r.popularity]}),Object(_.jsxs)("p",{children:["Duration: ",r.runtime," minutes"]})]})]})]})),Object(_.jsxs)("div",{className:y.a.linkBox,children:[Object(_.jsx)(m.c,{to:"".concat(t,"/cast"),className:y.a.link,children:"Cast"}),Object(_.jsx)(m.c,{to:"".concat(t,"/reviews"),className:y.a.link,children:"Reviews"})]}),Object(_.jsx)(s.b,{path:"".concat(t,"/cast"),component:B}),Object(_.jsx)(s.b,{path:"".concat(t,"/reviews"),component:C})]})}var M=c(12),T=c.n(M);function R(){return Object(_.jsxs)("nav",{className:T.a.nav,children:[Object(_.jsx)(m.c,{to:"/",className:T.a.link,exact:!0,activeClassName:T.a.link_active,children:"HomePage"}),Object(_.jsx)(m.c,{to:"/movies",className:T.a.link,activeClassName:T.a.link_active,children:"Search movies"})]})}function F(){return Object(_.jsx)("div",{children:Object(_.jsx)("h2",{children:"404 Oops, page not found..."})})}c(69);var q=function(){return Object(_.jsx)(o.Suspense,{fallback:Object(_.jsx)("p",{children:"Loading..."}),children:Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(R,{}),Object(_.jsxs)(s.d,{children:[Object(_.jsx)(s.b,{path:"/",exact:!0,children:Object(_.jsx)(g,{})}),Object(_.jsx)(s.b,{path:"/movies",exact:!0,children:Object(_.jsx)(k,{})}),Object(_.jsx)(s.b,{path:"/movies/:movieId",children:Object(_.jsx)(D,{})}),Object(_.jsx)(s.b,{path:"/movies/:movieId/cast",children:Object(_.jsx)(B,{})}),Object(_.jsx)(s.b,{path:"/movies/:movieId/reviews",children:Object(_.jsx)(C,{})}),Object(_.jsx)(s.a,{to:"/"}),Object(_.jsx)(s.b,{component:F})]})]})})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};r.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(m.a,{children:Object(_.jsx)(q,{})})}),document.getElementById("root")),H()},9:function(e,t,c){e.exports={card:"MovieDetailsPage_card__1NqK7",left:"MovieDetailsPage_left__1OeY9",right:"MovieDetailsPage_right__2w4sG",linkBox:"MovieDetailsPage_linkBox__tSxiH",link:"MovieDetailsPage_link__3usu2"}}},[[70,1,2]]]);
//# sourceMappingURL=main.9b7f8d69.chunk.js.map